<!-- 8dc79657-9b20-4d27-8e8a-5940ab975ced 8ee9f226-e876-447e-a3cf-9e939947fd9f -->
# 移动端消息宽度与可读性优化计划

**目标**

- 在移动端（断点 ≤600px）通过减小消息气泡的左右内边距、微调字体与行高，提升单行文字可读长度，同时保持触控目标最小尺寸（`--tap`）不变，避免影响操作可点性与美观。

**要修改的文件（不在未获你确认前执行）**

- `style.css`（首选）
- `dist/style.css`（若项目使用构建产物，保持同步）
- `CURSOR.md`（主体内容与变更记录追加）
- `README.md` 与 `README_zh.md`（同步“移动端尺寸与间距策略/消息气泡宽度策略”说明）

**关键实现要点（CSS 片段，精简示例）**

- 在 `@media (max-width: 600px)` 下做局部覆盖：减小 `.message` 的左右内边距（例如从 12–16px 缩小到 6–8px），保留垂直内边距，微调字体与行高。
```css
@media (max-width: 600px) {
  /* 缩短消息左右内边距以增加可显示文本宽度 */
  .message {
    max-width: 94%; /* 保持边距，避免贴边 */
    padding-left: 0.5rem; /* 原 1rem -> 缩小 */
    padding-right: 0.5rem;
    font-size: clamp(0.95rem, 1vw + 0.15rem, 1rem);
    line-height: 1.45;
    /* 如有 .ai-message / .user-message 的单独规则，也会同步微调 */
  }

  /* 如果存在动作按钮占位，尝试减少占位或改为绝对定位以不占用文本行宽 */
  .message .msg-actions {
    right: 8px; /* 保持浮动，避免占用文本流宽度 */
    padding-left: 0; /* 去掉为动作预留的额外内边距 */
  }
}
```


说明：以上 CSS 为保守改动，优先减少横向内边距并保留触控目标高度；若项目中 `.message` 存在更细粒度类（如 `.ai-message`、`.user-message`、`.message__content`），将在实现时定位并仅修改必要的选择器以降低风险。

**回退方案**

- 若视觉/可点击性受损：恢复左右内边距为原值并只微调字体（较小改动）。
- 若影响到桌面布局：仅在 `@media (max-width: 480px)` 下应用更激进的缩减，600px 下维持更温和的改动。

**文档同步**

- 在 `CURSOR.md` 的“移动端尺寸与间距策略”与“消息气泡宽度策略”节说明本次修改原因与影响，并在文件末尾追加变更记录（包含日期与修改项）。
- 在 `README.md` / `README_zh.md` 中同步一段简短说明（不作为变更日志，只描述当前实现与使用说明）。

---

如果你同意，我将把上面计划作为实施蓝图（不做任何修改前再次显示将要写入的完整 CSS diff 与 CURSOR.md 的变更段），然后执行修改、运行 linter 检查并更新文档。

### To-dos

- [x] 修改 `style.css`：在 `@media (max-width:600px)` 下减小消息左右内边距并微调字体/行高。
- [x] 更新 `CURSOR.md`：同步修改后的‘移动端尺寸与间距策略’和‘消息气泡宽度策略’，并追加变更记录。
- [x] 更新 `README.md` 与 `README_zh.md`：同步说明移动端消息宽度与可读性优化（不记录变更日志）。