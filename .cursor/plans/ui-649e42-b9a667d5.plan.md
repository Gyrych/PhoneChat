<!-- b9a667d5-b31e-4edf-ab22-da624b68ce44 0d736022-93cc-47eb-869c-26110e0471aa -->
# FreeChat 界面与交互优化计划

目标：在不改变核心功能逻辑的前提下，将界面升级为“成熟手机 APP 感”：浅色玻璃（Glassmorphism）、简洁层级、响应式触控优化与流畅微交互动效。

主要改动范围（逐项可回退）：

- 全局设计令牌与字体（`style.css` / `dist/style.css`）
- 玻璃风通用类与阴影、卡片、模态、抽屉样式（`style.css`）
- 聊天气泡、消息操作与模型徽章样式（`style.css`、`index.html`）
- 输入区响应式网格（手机三列布局，无改 DOM）与可触目标优化（`style.css`）
- 覆盖式抽屉（会话管理）安全区与交互（`index.html` + `style.css`）
- 小交互动效：消息进入/淡入、发送按钮过渡、玻璃悬浮效果（`style.css`）
- 辅助：`README.md` / `README_zh.md` / `CURSOR.md` 同步说明与变更记录

待修改的关键文件列表：

- `style.css`（主要改动）
- `dist/style.css`（同步产物）
- `index.html`（小量 DOM/aria/meta 调整：`viewport-fit=cover`、安全区占位）
- `dist/index.html`（同步产物）
- `conversations.html`（抽屉/会话管理细节校准）
- `README.md`、`README_zh.md`、`CURSOR.md`（文档同步说明）

关键设计令牌（示例，将写入 `:root`）：

```css
:root{
  --bg: #f6f8fb;
  --fg: #0f1723;
  --muted: #6b7280;
  --brand: #4f46e5; /* 主品牌色 */
  --brand-2: #06b6d4; /* 辅助色 */
  --surface: rgba(255,255,255,0.75);
  --surface-strong: #ffffff;
  --border: rgba(15,23,35,0.06);
  --shadow: 0 8px 24px rgba(15,23,35,0.08);
  --radius: 12px;
  --blur: 10px;
  --tap: 44px;
  --icon-lg: 22px; --icon-md: 18px; --icon-sm:14px;
  --fs-body: clamp(14px, 1.6vw, 16px);
}
```

关键交互/动画策略（易于感知且轻量）：

- 消息列表：新消息使用 translateY(6px)+opacity 动画 180ms ease-out。
- 发送按钮：按下缩放 0.96，启用光泽渐变动效，生成中显示微旋转 loading。
- 抽屉打开：backdrop 160ms 线性，内容 240ms 立体弹性（cubic-bezier）上移。
- prefers-reduced-motion 支持：禁用所有非必要动画。

移动端细节（确保“丝滑感”与触控可靠）：

- 在 `index.html` 加入 `viewport-fit=cover` 并在 `body`/抽屉/顶部栏使用 `env(safe-area-inset-*)`。
- 保持触控目标最小 `--tap`（44px），对消息内操作按钮使用下方独立行而非遮挡文本。
- 输入区在 <=600px 下 CSS 重排为三列网格（不改 DOM），图标标签隐藏为仅图标。

无功能改动的可选改进（将作为后续任务，如果你接受）：

- 引入小字体图标替换 Font Awesome 减少渲染负担（需评估）。
- 用 CSS 自定义属性实现主题开关（浅/深），为未来切换铺路。

验收标准（可自动或人工检验）：

- 主界面在常见手机视口（375×812, 412×915）下：消息不被标题遮挡，输入区清晰、按钮可点；抽屉安全区无遮挡。
- 新消息入场动画与发送按钮动效可见但不抢眼；按下交互响应 < 120ms。
- 未引入明显样式回归（按钮/输入丢失、可访问性标签保持）。

我已把实现拆成可追踪的任务清单，确认后我会按该计划开始修改（先在 `style.css` 与 `index.html` 做最小改动并同步 `dist/`）。

### To-dos

- [ ] 更新 `style.css` 设计令牌并导入 Inter 字体
- [ ] 实现通用玻璃类与卡片/模态/抽屉样式
- [ ] 优化消息气泡、模型徽章与操作按钮布局
- [ ] 实现输入区三列响应式网格与触控目标优化
- [ ] 抽屉与会话管理安全区与交互修正
- [ ] 添加轻量入场/按钮/抽屉动画并支持 reduced-motion
- [ ] 同步更新 `README.md`/`README_zh.md`/`CURSOR.md` 的变更记录
- [ ] 将 `dist/` 中的产物同步为修改后的样式与页面