<!-- 50936a58-2fcb-48c0-9983-772fdf66951d c6ba0979-f4ad-42d2-a6bf-520196f0dd60 -->
# 同步文档与实现（README/CURSOR.md）计划

## 发现的问题（与实现不一致处）

- 英文 README 冒头描述错误：写成“通过设置页配置 API Key”，实际设置页仅配置模型，API Key 走内置演示密钥或 localStorage。
```3:3:E:\NewWorkplace\13_FreeChat\README.md
FreeChat is a lightweight local web-based chat application for local prototyping and demo purposes. It enables users to send messages to a configured external chat API, manage and persist conversations in the browser, and configure an API key via a settings page.
```

- 中文 README 冒头描述同样错误：
```3:3:E:\NewWorkplace\13_FreeChat\README_zh.md
FreeChat 是一个轻量级的本地 Web 聊天应用，适用于本地演示和快速原型开发。用户可以通过配置的外部聊天 API 发送消息、本地管理会话，并通过设置页配置 API Key。
```

- 两份 README 的“停止生成”描述与实现不符：代码中 `stopGeneration()` 仅隐藏按钮/提示，并未中止网络请求（未使用 AbortController）。
```55:57:E:\NewWorkplace\13_FreeChat\README.md
5. During response generation, a stop button appears that allows you to terminate the response early
6. The current model is shown as a badge in the top header
7. If you use a reasoning-capable model and the provider returns reasoning content, ...
```
```54:57:E:\NewWorkplace\13_FreeChat\README_zh.md
5. 在响应生成过程中，会出现一个停止按钮，允许您提前终止响应
6. 顶部导航栏会显示当前使用的模型徽标
7. 若使用思考类模型且服务商返回推理内容，将在助手正文“上方”流式出现思考内容...
```

- CURSOR.md 中存在键名拼写错误：`deepeekApiKey` 应为 `deepseekApiKey`。
```40:41:E:\NewWorkplace\13_FreeChat\CURSOR.md
4. 应用构造请求体并通过 `fetch` 向配置的 API 端点发送请求，使用 `Authorization: Bearer <apiKey>` 头。`apiKey` 优先使用内置加密的演示 Key（`OPENROUTER_API_KEY`），回退到 `localStorage.deepeekApiKey`（若存在）。
```


## 拟进行的编辑

- README.md：
  - 修正文案：将“configure an API key via a settings page”改为“use a built-in encrypted demo key or set via localStorage; settings page configures model only”。
  - 使用说明中“停止生成”改为客观描述当前行为，例如：“a stop button appears (UI-only; request is not aborted).” 并在 Security/Notes 或 Usage 下补一句“AbortController planned; not implemented yet”。

- README_zh.md：
  - 修正文案：将“并通过设置页配置 API Key”改为“API Key 通过内置演示密钥或 localStorage 配置；设置页仅配置模型”。
  - 使用说明中“允许提前终止响应”改为“出现停止按钮（当前仅隐藏 UI，不中止请求）；后续可引入 AbortController”。

- CURSOR.md：
  - 主体内容中将 `deepeekApiKey` 更正为 `deepseekApiKey`。
  - 在“已知限制与建议”处补充一句“停止按钮为 UI 级别，未中止网络请求，建议引入 AbortController”，与 README 保持一致（若已有类似表述，仅对齐措辞）。
  - 在文末“变更记录”追加本次文档修复条目（日期、原因、涉及文件）。

## 保持不变

- 默认端点、默认模型、结构图（Mermaid）、依赖说明均与实现一致，无需改动。

## 交付标准

- 两份 README（中/英）与 CURSOR.md 主体完全与代码实现一致；
- 变更记录在 CURSOR.md 最末尾按日期追加；
- 两份 README 的中英内容在上述点上语义等价、同步。

### To-dos

- [ ] 修正 README.md 中 API Key 与停止按钮表述
- [ ] 修正 README_zh.md 中 API Key 与停止按钮表述
- [ ] 修正 CURSOR.md 中 deepseekApiKey 拼写错误并补充限制说明
- [ ] 在 CURSOR.md 末尾追加本次文档修复的变更记录
- [ ] 再次通读文档与源码，确认一致性并提交