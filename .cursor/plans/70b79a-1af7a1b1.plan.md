<!-- 1af7a1b1-2177-40b5-b2d9-f0ad502770d4 3236a80c-acff-4a73-af05-926d5cab3716 -->
# 更新文档：CURSOR.md / README.md / README_zh.md

目标：将项目中现有文档替换为与当前代码库实现一致的文档版本（直接覆盖），并在每个文档中保留或追加变更记录。不会在此步骤修改代码，仅生成并提交新的文档文件。

主要修改点：

- **CURSOR.md**：保持为开发者内部参考，包含项目说明、架构概览、关键实现细节（记忆队列、记忆注入顺序、localStorage 键、记忆生成策略、异步 Worker 逻辑、性能优化点、打包/Capacitor 流程）、变更记录（按时间倒序）。会把现有内容精简并校正为与 `index.html`、`prompts.js`、`logger.js`、`config.html` 等实际实现一致的描述。

- **README.md（英文）**：面向用户/开发者，包含项目简介、功能清单、默认 API 配置、快速开始、配置说明（含 localStorage 键与优先级）、Web Search 行为、记忆注入与生成机制、Android 打包说明、依赖与安全注意事项、日志导出示例、许可证。附带 Mermaid 项目结构图与简短“修复/变更记录”摘录。

- **README_zh.md（中文）**：上述英文 README 的中文等价版本，保持内容同步与格式一致。

计划输出结构（每个文件）：

- 文件头：项目名、一句话概述、警告（内置演示 Key）
- 功能要点（要点列表）
- 快速开始（最小步骤）
- 配置与 localStorage 键详表
- 记忆/注入/Worker 实现要点
- Web Search 行为说明与存储键
- Android/Capacitor 打包说明
- 依赖/安全/日志/导出示例
- 变更记录（附近几次重要改动）

要修改的文件：

- `CURSOR.md`
- `README.md`
- `README_zh.md`

实现 TODOs:

- update-docs-generate: 生成新的 `CURSOR.md` 内容（in_progress）
- update-docs-readme-en: 生成新的 `README.md` 内容（pending）
- update-docs-readme-zh: 生成新的 `README_zh.md` 内容（pending）

交付物：三份覆盖后的文档（直接写入仓库根目录），并在提交后在 `CURSOR.md` 的变更记录末尾追加“此次变更”条目（包括修改原因与日期）。

风险与注意事项：

- 我会直接覆盖文件（你已选择 a）。如果需要备份或保留旧版，请在执行前撤回并选择 b。
- 文档将以中文（`CURSOR.md`、`README_zh.md`）与英文（`README.md`）分别完成；所有文本会尽量与代码实现严格对齐。但若需要我可以进一步读取 `index.html` 的具体实现片段以确保字句级一致性（目前已读取关键文档与 package.json）。

下一步：若你确认该计划，我将开始实际生成并写入三份文件并同步更新 `CURSOR.md` 的变更记录。

### To-dos

- [ ] 生成并写入新的 `CURSOR.md`，包含实现细节与变更记录说明
- [ ] 生成并写入新的 `README.md`（英文用户指南，含 Mermaid 结构图）
- [ ] 生成并写入新的 `README_zh.md`（中文 README，与英文保持一致）